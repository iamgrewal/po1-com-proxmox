[global]
keyboard = "en-us"
country = "us"
fqdn = "pve.po1.me"
domain = "po1.me"
mailto = "proxmox@po1.me"
timezone = "America/Detroit"
root_password = "passw0rd"
root_ssh_keys = [
  "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIG+JRLgkEBRWE1TqovJIikP32l5jqXhnAU8yzdta1/Ph Generated By Termius"
]
auto_install = true
reboot_on_error = true

[network]
# Default DHCP just to bootstrap; postinstall script replaces it
source = "from-dhcp"
dns = ["192.168.51.1", "172.64.36.1", "172.64.36.2"]
[disk_setup]
target_hd = "/dev/sdb"
filesystem = "zfs"
zfs = { raid = "raid0", ashift = 12, compress = "lz4", copies = 1 }

efi_size = "1G"      # EFI system partition
boot_size = "2G"     # /boot partition
hdsize = "120G"      # Total disk space to use (optional, limits install scope)

swap_size = "8G"   

[packages]
packages = [
  "nano", "git", "sudo", "curl", "wget", "net-tools", "openssh-server",
  "lvm2", "zfsutils-linux", "qemu-guest-agent", "nfs-common", "rsync",
  "lsof", "iftop", "htop", "iotop"
]

[scripts]
# These scripts execute automatically during install and post-install
preinstall = "https://bitbucket.org/jsgrewal/proxmox/src/main/pre-install.sh"
postinstall = "https://bitbucket.org/jsgrewal/proxmox/src/main/post-install.sh"
postreboot = "https://bitbucket.org/jsgrewal/proxmox/src/main/create_network_interfaces.sh"
postreboot2 = "https://bitbucket.org/jsgrewal/proxmox/src/main/remove_nag.sh"

[first-boot]
source = "from-iso"
ordering = "before-network"